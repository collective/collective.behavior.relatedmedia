"use strict";
(self["webpackChunkrelatedmedia"] = self["webpackChunkrelatedmedia"] || []).push([["resources_bundle_js"],{

/***/ "./resources/bundle.js":
/*!*****************************!*\
  !*** ./resources/bundle.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _patternslib_patternslib_src_core_registry__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @patternslib/patternslib/src/core/registry */ "./node_modules/@patternslib/patternslib/src/core/registry.js");
/* harmony import */ var _pat_related_images_related_images__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./pat-related-images/related-images */ "./resources/pat-related-images/related-images.js");


_patternslib_patternslib_src_core_registry__WEBPACK_IMPORTED_MODULE_0__["default"].init();

/***/ }),

/***/ "./resources/pat-related-images/related-images.js":
/*!********************************************************!*\
  !*** ./resources/pat-related-images/related-images.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Pattern: () => (/* binding */ Pattern),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   parser: () => (/* binding */ parser)
/* harmony export */ });
/* harmony import */ var _patternslib_patternslib_src_core_basepattern__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @patternslib/patternslib/src/core/basepattern */ "./node_modules/@patternslib/patternslib/src/core/basepattern.js");
/* harmony import */ var _patternslib_patternslib_src_core_parser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @patternslib/patternslib/src/core/parser */ "./node_modules/@patternslib/patternslib/src/core/parser.js");
/* harmony import */ var _patternslib_patternslib_src_core_registry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @patternslib/patternslib/src/core/registry */ "./node_modules/@patternslib/patternslib/src/core/registry.js");



const parser = new _patternslib_patternslib_src_core_parser__WEBPACK_IMPORTED_MODULE_1__["default"]("related-images");
parser.addArgument("uuids", "");
class Pattern extends _patternslib_patternslib_src_core_basepattern__WEBPACK_IMPORTED_MODULE_0__.BasePattern {
  static name = "related-images";
  static trigger = ".pat-related-images";
  static parser = parser;
  async init() {
    __webpack_require__.e(/*! import() */ "resources_pat-related-images_related-images_scss").then(__webpack_require__.bind(__webpack_require__, /*! ./related-images.scss */ "./resources/pat-related-images/related-images.scss"));
    await this.uploader_event();

    // The options are automatically created, if parser is defined.
    this.el.innerHTML = `
            <pre class="text-muted">will replace ${this.options.uuids} with image gallery soon !</pre>
        `;
  }
  async uploader_event() {
    const $ = (await Promise.resolve(/*! import() */).then(__webpack_require__.t.bind(__webpack_require__, /*! jquery */ "webpack/sharing/consume/default/jquery/jquery", 23))).default;
    $(".pat-upload").on("uploadAllCompleted", function (response, path) {
      // reload viewlets on upload
      var base_url = $(this).data("relmedia-baseurl");
      var $relimages = $("#related-images");
      if ($relimages.length) {
        $.ajax({
          url: base_url + "/@@relatedImages",
          success: function (response) {
            $relimages.replaceWith($(response).siblings("#related-images"));
          }
        });
      }
      var $relatts = $("#related-attachments");
      if ($relatts.length) {
        $.ajax({
          url: base_url + "/@@relatedAttachments",
          success: function (response) {
            $relatts.replaceWith($(response).find("#related-attachments"));
          }
        });
      }
    });
  }
}

// Register Pattern class in the global pattern registry and make it usable there.
_patternslib_patternslib_src_core_registry__WEBPACK_IMPORTED_MODULE_2__["default"].register(Pattern);

// Export Pattern as default export.
// You can import it as ``import AnyName from "./related-images";``
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Pattern);
// Export BasePattern as named export.
// You can import it as ``import { Pattern } from "./related-images";``


/***/ })

}]);
//# sourceMappingURL=resources_bundle_js.9c71cc357a1a0ef191ca.min.js.map