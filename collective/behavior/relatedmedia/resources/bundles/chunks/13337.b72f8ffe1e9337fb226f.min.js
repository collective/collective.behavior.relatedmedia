"use strict";(self.webpackChunkrelatedmedia=self.webpackChunkrelatedmedia||[]).push([[13337],{8633:(t,e,n)=>{n.d(e,{A:()=>g});var r=n(25022),o=n.n(r),a=n(62800);function i(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||s(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=s(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){l=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw a}}}}function s(t,e){if(t){if("string"==typeof t)return c(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}o().fn.safeClone=function(){return this.clone()},Array.prototype.forEach||(Array.prototype.forEach=function(t,e){var n,r;if(null===this)throw new TypeError(" this is null or not defined");var o=Object(this),a=o.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(arguments.length>1&&(n=e),r=0;r<a;){var i;r in o&&(i=o[r],t.call(n,i,r,o)),r++}});var p=function(t,e,n){return this.each(function(){var r,a=o()(this);if(r=t.init(a,n),e){if(void 0===r[e])return o().error("Method "+e+" does not exist on jQuery."+t.name),!1;if("_"===e.charAt(0))return o().error("Method "+e+" is private on jQuery."+t.name),!1;r[e].apply(r,[n])}}),this},d=function(t,e,n){var r=this;if(e){if(t[e])return t[e].apply(r,[r].concat([n]));o().error("Method "+e+" does not exist on jQuery."+t.name)}else t.init.apply(r,[r].concat([n]));return r};function f(t){var e=u(t);return"function"===e||"object"===e&&!!t}function h(t){var e=t.replace(/[\-\[\]{}()+?.,\\\^$|#\s]/g,"\\$&");return e=e.replace(/[*]/g,".*"),e=new RegExp("^".concat(e,"$"))}function v(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t instanceof o()&&(t=t[0]);var r=t.getBoundingClientRect();return![r.top,r.bottom,r.left,r.right].every(function(t){return 0===t})&&(e?r.top<=0+n&&r.bottom>=0+n:r.top>=0&&r.left>=0&&r.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&r.right<=(window.innerWidth||document.documentElement.clientWidth))}var m={jqueryPlugin:function(t){return function(e,n){return 0===this.length?this:("object"===u(e)&&(n=e,e=void 0),"function"==typeof t?p.call(this,t,e,n):d.call(this,t,e,n))}},escapeRegExp:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isObject:f,extend:function(t){if(!f(t))return t;for(var e,n,r=1,o=arguments.length;r<o;r++)for(n in e=arguments[r])hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},findLabel:function(t){for(var e,n=t.parentNode;n&&11!==n.nodeType;n=n.parentNode)if("LABEL"===n.tagName)return n;return t.id&&(e=o()('label[for="'+t.id+'"]')),e&&0===e.length&&t.form&&(e=o()('label[for="'+t.name+'"]',t.form)),e&&e.length?e[0]:null},regexp_from_wildcard:h,removeWildcardClass:function(t,e){if(t=m.ensureArray(t),-1===e.indexOf("*")){var n,r=l(t);try{for(r.s();!(n=r.n()).done;){n.value.classList.remove(e)}}catch(t){r.e(t)}finally{r.f()}}else{var o,a=h(e),i=l(t);try{for(i.s();!(o=i.n()).done;){var s=o.value,c=(s.getAttribute("class")||"").split(/\s+/);if(c.length){var u=c.filter(function(t){return!a.test(t)});u.length?s.setAttribute("class",u.join(" ")):s.removeAttribute("class")}}}catch(t){i.e(t)}finally{i.f()}}},hideOrShow:function(t,e,n,r){t=a.A.toNodeArray(t);var i,s={none:{hide:"hide",show:"show"},fade:{hide:"fadeOut",show:"fadeIn"},slide:{hide:"slideUp",show:"slideDown"}},c="css"===n.transition||"none"===n.transition?null:n.effect.duration,u=function(t){t.classList.remove("in-progress"),t.classList.add(e?"visible":"hidden"),o()(t).trigger("pat-update",{pattern:r,action:"attribute-changed",dom:t,transition:"complete"})},p=l(t);try{var d=function(){var t=i.value;if(t.classList.remove("visible"),t.classList.remove("hidden"),t.classList.remove("in-progress"),c){var l=s[n.transition];t.classList.add("in-progress"),o()(t).trigger("pat-update",{pattern:r,action:"attribute-changed",dom:t,transition:"start"}),o()(t)[e?l.show:l.hide]({duration:c,easing:n.effect.easing,complete:function(){return u(t)}})}else"css"!==n.transition&&a.A[e?"show":"hide"](t),u(t)};for(p.s();!(i=p.n()).done;)d()}catch(t){p.e(t)}finally{p.f()}},addURLQueryParameter:function(t,e,n){var r=new RegExp("(\\?|\\&)"+e+"=.*?(?=(&|$))"),o=t.toString().split("#"),a=o[0],i=o[1],l=a;return l=r.test(a)?a.replace(r,"$1"+e+"="+n):/\?.+$/.test(a)?a+"&"+e+"="+n:a+"?"+e+"="+n,i&&(l+="#"+i),l},removeDuplicateObjects:function(t){var e=function(t,e){return this[t]===e};return t.reduce(function(t,n){var r,o=!1,a=l(t);try{for(a.s();!(r=a.n()).done;){var i=r.value;o=Object.keys(i).length===Object.keys(n).length&&0===Object.entries(i).filter(function(t){return!e.bind(n)(t[0],t[1])}).length}}catch(t){a.e(t)}finally{a.f()}return o||t.push(n),t},[])},mergeStack:function(t,e){for(var n=[],r=0;r<e;r++)n.push({});var a,i=l(t);try{for(i.s();!(a=i.n()).done;)for(var s=a.value,c=s.length-1,u=0;u<e;u++)n[u]=o().extend(n[u]||{},s[u>c?c:u])}catch(t){i.e(t)}finally{i.f()}return n},isElementInViewport:v,hasValue:function(t){return"INPUT"===t.tagName?"checkbox"===t.type||"radio"===t.type?t.checked:""!==t.value:"SELECT"===t.tagName?-1!==t.selectedIndex:"TEXTAREA"===t.tagName&&""!==t.value},parseTime:function(t){var e=/^(\d+(?:\.\d+)?)\s*(\w*)/.exec(t);if(!e)throw new Error("Invalid time");var n=parseFloat(e[1]);switch(e[2]){case"s":return Math.round(1e3*n);case"m":return Math.round(1e3*n*60);default:return Math.round(n)}},parseLength:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=/^(\d+(?:\.\d+)?)\s*(\%?\w*)/.exec(t);if(!n)throw new Error("Invalid length");var r=parseFloat(n[1]);switch(n[2]){case"px":default:return Math.round(r);case"%":return e?e/100*Math.round(r):0;case"vw":return Math.round(r*window.innerWidth/100);case"vh":return Math.round(r*window.innerHeight/100);case"vmin":return Math.round(r*Math.min(window.innerWidth,window.innerHeight)/100);case"vmax":return Math.round(r*Math.max(window.innerWidth,window.innerHeight)/100)}},findRelatives:function(t){var e=o()(t),n=o()(t),r=o()();if(n=(n=n.add(e.closest("label"))).add(e.closest("fieldset")),t.id&&(r=o()("label[for='"+t.id+"']")),!r.length){var a=e.closest("form");a.length||(a=o()(document.body)),r=a.find("label[for='"+t.name+"']")}return n=n.add(r)},get_bounds:function(t){var e=t.getBoundingClientRect();return{x:parseInt(Math.round(e.x),10)||0,y:parseInt(Math.round(e.y),10)||0,top:parseInt(Math.round(e.top),10)||0,bottom:parseInt(Math.round(e.bottom),10)||0,left:parseInt(Math.round(e.left),10)||0,right:parseInt(Math.round(e.right),10)||0,width:parseInt(Math.round(e.width),10)||0,height:parseInt(Math.round(e.height),10)||0}},checkInputSupport:function(t,e){var n=!1,r=document.createElement("input");return r.setAttribute("type",t),n=r.type==t,void 0!==e&&(r.setAttribute("value",e),n=r.value!==e),n},checkCSSFeature:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"div",r=void 0!==(n=document.createElement(n)).style[t];return r&&void 0!==e&&(n.style[t]=e,r=n.style[t]===e),r},animation_frame:function(){return new Promise(window.requestAnimationFrame)},timeout:function(t){return new Promise(function(e){return setTimeout(e,t)})},debounce:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{timer:null},r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return n.last_run=0,function(){var o=this,a=arguments;!r&&n.timer&&Date.now()-n.last_run<=e||(clearTimeout(n.timer),n.last_run=Date.now(),n.timer=setTimeout(function(){t.apply(o,a)},e))}},isIE:function(){return!!document.documentMode},jqToNode:function(t){return t.jquery&&(t=t[0]),t},ensureArray:function(t,e){return!!(NodeList.prototype.isPrototypeOf(t)||Array.isArray(t)||t.jquery)?e?i(t):t:[t]},localized_isodate:function(t){var e=t.getDate().toString().padStart(2,"0"),n=(t.getMonth()+1).toString().padStart(2,"0"),r=t.getFullYear().toString();return"".concat(r,"-").concat(n,"-").concat(e)},escape_html:function(t){if(!t)return"";var e=document.createElement("div");return e.appendChild(document.createTextNode(t)),e.innerHTML.replace(/"/g,"&quot;")},unescape_html:function(t){return t?(new DOMParser).parseFromString(t,"text/html").documentElement.textContent.replace(/&quot;/g,'"'):""},is_iso_date_time:function(t){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1]?/^\d{4}-[01]\d-[0-3]\d(T[0-2]\d:[0-5]\d)?$/:/^\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d$/).test(t)},is_iso_date:function(t){return/^\d{4}-[01]\d-[0-3]\d$/.test(t)},date_diff:function(t,e){var n=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()),r=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate());return Math.floor((n-r)/864e5)},threshold_list:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=[],n=1;n<=t;n++)e.push(n/t);return e.push(0),e.sort()},is_option_truthy:function(t){return![void 0,null,"none",!1,"false",""].includes(t)},elementInViewport:function(t){return console.warn("Deprecated. Use utils.isElementInViewport"),v(t)}};const g=m},13767:(t,e,n)=>{n.d(e,{A:()=>a});var r=n(25022),o=n.n(r);const a=function(){var t=this;t.baseUrl=o()("body").attr("data-i18ncatalogurl"),t.currentLanguage=o()("html").attr("lang")||"en",t.storage=null,t.catalogs={},t.ttl=864e5,Date.now||(Date.now=function(){return(new Date).valueOf()});try{"localStorage"in window&&null!==window.localStorage&&"JSON"in window&&null!==window.JSON&&(t.storage=window.localStorage)}catch(t){console.log("Failed to set local storage")}t.configure=function(e){for(var n in e)t[n]=e[n]},t._setCatalog=function(e,n,r){e in t.catalogs||(t.catalogs[e]={}),t.catalogs[e][n]=r},t._storeCatalog=function(e,n,r){var o=e+"-"+n;null!==t.storage&&null!==r&&(t.storage.setItem(o,JSON.stringify(r)),t.storage.setItem(o+"-updated",Date.now()))},t.getUrl=function(e,n){return t.baseUrl+"?domain="+e+"&language="+n},t.loadCatalog=function(e,n){if(void 0===n&&(n=t.currentLanguage),null!==t.storage){var r=e+"-"+n;if(r in t.storage&&Date.now()-parseInt(t.storage.getItem(r+"-updated"),10)<t.ttl){var a=JSON.parse(t.storage.getItem(r));return void t._setCatalog(e,n,a)}}t.baseUrl&&o().getJSON(t.getUrl(e,n),function(r){null!==r&&(t._setCatalog(e,n,r),t._storeCatalog(e,n,r))})},t.MessageFactory=function(e,n){return n=n||t.currentLanguage,function(r,o){var a,i,l;if(a=e in t.catalogs&&n in t.catalogs[e]&&r in t.catalogs[e][n]?t.catalogs[e][n][r]:r,o)for(l in o)Object.prototype.hasOwnProperty.call(o,l)&&(i=new RegExp("\\$\\{"+l+"\\}","g"),a=a.replace(i,o[l]));return a}}}},23505:(t,e,n)=>{var r,o;n.d(e,{A:()=>p}),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,r=function(){},o=function(){return n.apply(this instanceof r&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,o.prototype=new r,o});var a={DEBUG:10,INFO:20,WARN:30,ERROR:40,FATAL:50};function i(){}function l(t,e){this._loggers={},this.name=t||"",this._parent=e||null,e||(this._enabled=!0,this._level=a.WARN)}function s(t){o=t}i.prototype={output:function(t,e,n){t&&n.unshift(t+":"),e<=a.DEBUG?console.debug.apply(console,n):e<=a.INFO?console.info.apply(console,n):e<=a.WARN?console.warn.apply(console,n):console.error.apply(console,n)}},l.prototype={getLogger:function(t){for(var e=t.split("."),n=this,r=this.name?[this.name]:[];e.length;){var o=e.shift();r.push(o),o in n._loggers||(n._loggers[o]=new l(r.join("."),n)),n=n._loggers[o]}return n},_getFlag:function(t){var e=this;for(t="_"+t;null!==e;){if(void 0!==e[t])return e[t];e=e._parent}return null},setEnabled:function(t){this._enabled=!!t},isEnabled:function(){this._getFlag("enabled")},setLevel:function(t){"number"==typeof t?this._level=t:"string"==typeof t&&(t=t.toUpperCase())in a&&(this._level=a[t])},getLevel:function(){return this._getFlag("level")},log:function(t,e){!e.length||!this._getFlag("enabled")||t<this._getFlag("level")||(e=Array.prototype.slice.call(e),o.output(this.name,t,e))},debug:function(){this.log(a.DEBUG,arguments)},info:function(){this.log(a.INFO,arguments)},warn:function(){this.log(a.WARN,arguments)},error:function(){this.log(a.ERROR,arguments)},fatal:function(){this.log(a.FATAL,arguments)}},s(new i),r=new l;for(var c,u=/loglevel(|-[^=]+)=([^&]+)/g;null!==(c=u.exec(window.location.search));){(""===c[1]?r:r.getLogger(c[1].slice(1))).setLevel(c[2].toUpperCase())}const p={Level:a,getLogger:r.getLogger.bind(r),setEnabled:r.setEnabled.bind(r),isEnabled:r.isEnabled.bind(r),setLevel:r.setLevel.bind(r),getLevel:r.getLevel.bind(r),debug:r.debug.bind(r),info:r.info.bind(r),warn:r.warn.bind(r),error:r.error.bind(r),fatal:r.fatal.bind(r),getWriter:function(){return o},setWriter:s}},33077:(t,e,n)=>{n.d(e,{m:()=>m});var r=n(44563),o=n(23505),a=n(86557);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function s(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var s=r&&r.prototype instanceof l?r:l,u=Object.create(s.prototype);return c(u,"_invoke",function(n,r,o){var a,l,s,c=0,u=o||[],p=!1,d={p:0,n:0,v:t,a:f,f:f.bind(t,4),d:function(e,n){return a=e,l=0,s=t,d.n=n,i}};function f(n,r){for(l=n,s=r,e=0;!p&&c&&!o&&e<u.length;e++){var o,a=u[e],f=d.p,h=a[2];n>3?(o=h===r)&&(s=a[(l=a[4])?5:(l=3,3)],a[4]=a[5]=t):a[0]<=f&&((o=n<2&&f<a[1])?(l=0,d.v=r,d.n=a[1]):f<h&&(o=n<3||a[0]>r||r>h)&&(a[4]=n,a[5]=r,d.n=h,l=0))}if(o||n>1)return i;throw p=!0,r}return function(o,u,h){if(c>1)throw TypeError("Generator is already running");for(p&&1===u&&f(u,h),l=u,s=h;(e=l<2?t:s)||!p;){a||(l?l<3?(l>1&&(d.n=-1),f(l,s)):d.n=s:d.v=s);try{if(c=2,a){if(l||(o="next"),e=a[o]){if(!(e=e.call(a,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,l<2&&(l=0)}else 1===l&&(e=a.return)&&e.call(a),l<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),l=1);a=t}else if((e=(p=d.n<0)?s:n.call(r,d))!==i)break}catch(e){a=t,l=1,s=e}finally{c=1}}return{value:e,done:p}}}(n,o,a),!0),u}var i={};function l(){}function u(){}function p(){}e=Object.getPrototypeOf;var d=[][r]?e(e([][r]())):(c(e={},r,function(){return this}),e),f=p.prototype=l.prototype=Object.create(d);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=p,c(f,"constructor",p),c(p,"constructor",u),u.displayName="GeneratorFunction",c(p,o,"GeneratorFunction"),c(f),c(f,o,"Generator"),c(f,r,function(){return this}),c(f,"toString",function(){return"[object Generator]"}),(s=function(){return{w:a,m:h}})()}function c(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}c=function(t,e,n,r){function a(e,n){c(t,e,function(t){return this._invoke(e,n,t)})}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(a("next",0),a("throw",1),a("return",2))},c(t,e,n,r)}function u(t,e,n,r,o,a,i){try{var l=t[a](i),s=l.value}catch(t){return void n(t)}l.done?e(s):Promise.resolve(s).then(r,o)}function p(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t){u(a,r,o,i,l,"next",t)}function l(t){u(a,r,o,i,l,"throw",t)}i(void 0)})}}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h(r.key),r)}}function f(t,e,n){return(e=h(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:e+""}var v=o.A.getLogger("basepattern"),m=function(){return t=function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),f(this,"parser_group_options",!0),f(this,"parser_multiple",void 0),f(this,"parser_inherit",!0),this.name=this.constructor.name,this.trigger=this.constructor.trigger,this.parser=this.constructor.parser,e?(e.jquery&&(e=e[0]),this.el=e,this.uuid=(0,a.A)(),this.el.dispatchEvent(new Event("pre-init.".concat(this.name,".patterns"),{bubbles:!0,cancelable:!0})),window.setTimeout(p(s().m(function t(){var e,o;return s().w(function(t){for(;;)switch(t.n){case 0:if(void 0===n.el["pattern-".concat(n.name)]){t.n=1;break}return v.debug("Not reinstatiating the pattern ".concat(n.name,"."),n.el),n.el.dispatchEvent(new Event("not-init.".concat(n.name,".patterns"),{bubbles:!0,cancelable:!1})),t.a(2);case 1:return n.options=null!==(e=null===(o=n.parser)||void 0===o?void 0:o.parse(n.el,r,n.parser_multiple,n.parser_inherit,n.parser_group_options))&&void 0!==e?e:r,n.el["pattern-".concat(n.name)]=n,t.n=2,n.init();case 2:n.el.dispatchEvent(new Event("init.".concat(n.name,".patterns"),{bubbles:!0,cancelable:!0}));case 3:return t.a(2)}},t)})),0)):v.warn("No element given to pattern ".concat(this.name,"."))},e=[{key:"init",value:(o=p(s().m(function t(){return s().w(function(t){for(;;)if(0===t.n)return t.a(2)},t)})),function(){return o.apply(this,arguments)})},{key:"emit_update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach(function(e){f(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({pattern:this.name,dom:this.el,action:t},e),this.el.dispatchEvent(r.A.update_event(e))}},{key:"one",value:function(t,e){r.A.add_event_listener(this.el,"".concat(t,".").concat(this.name,".patterns"),"basepattern-one--".concat(t,".").concat(this.name,".patterns"),e,{once:!0})}},{key:"destroy",value:function(){delete this.el["pattern-".concat(this.name)]}}],e&&d(t.prototype,e),n&&d(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,o}();f(m,"name",void 0),f(m,"trigger",void 0),f(m,"parser",void 0)},33541:(t,e,n)=>{n.d(e,{A:()=>f});var r=n(25022),o=n.n(r),a=n(8633),i=n(23505);function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function s(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return c(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){l=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw a}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p(r.key),r)}}function p(t){var e=function(t,e){if("object"!=l(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==l(e)?e:e+""}var d=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.order=[],this.parameters={},this.attribute="data-pat-"+e,this.enum_values={},this.enum_conflicts=[],this.groups={},this.possible_groups={},this.log=i.A.getLogger(e+".parser"),this.group_pattern=/([a-z][a-z0-9]*)-([A-Z][a-z0-0\-]*)/i,this.json_param_pattern=/^\s*\[?\s*{/i,this.named_param_pattern=/^\s*([a-z][a-z0-9\-]*)\s*:([^]*)/i,this.token_pattern=/((["']).*?(?!\\)\2)|\s*(\S+)\s*/g}return e=t,n=[{key:"_camelCase",value:function(t){return t.replace(/\-([a-z])/g,function(t,e){return e.toUpperCase()})}},{key:"addAlias",value:function(t,e){if(!this.parameters[e])throw'Attempted to add an alias "'.concat(t,'" for a non-existing parser argument "').concat(e,'".');this.parameters[e].alias=t}},{key:"addGroupToSpec",value:function(e){var n=e.name.match(this.group_pattern);if(n){var r=n[1],o=n[2];if(r in this.possible_groups){var a=this.possible_groups[r],i=a.name.match(this.group_pattern)[2];a.group=r,a.dest=i,this.groups[r]=new t,this.groups[r].addArgument(i,a.value,a.choices,a.multiple),delete this.possible_groups[r]}r in this.groups?(this.groups[r].addArgument(o,e.value,e.choices,e.multiple),e.group=r,e.dest=o):(this.possible_groups[r]=e,e.dest=this._camelCase(e.name))}return e}},{key:"addJSONArgument",value:function(t,e){this.order.push(t),this.parameters[t]=this.addGroupToSpec({name:t,value:e,dest:t,group:null,type:"json"})}},{key:"addArgument",value:function(t,e,n,r){var o={name:t,value:r&&!Array.isArray(e)?[e]:e,multiple:r,dest:t,group:null};if(n&&Array.isArray(n)&&n.length){o.choices=n,o.type=this._typeof(n[0]);var a,i=s(n);try{for(i.s();!(a=i.n()).done;){var l=a.value;-1===this.enum_conflicts.indexOf(l)&&(l in this.enum_values?(this.enum_conflicts.push(l),delete this.enum_values[l]):this.enum_values[l]=t)}}catch(t){i.e(t)}finally{i.f()}}else"string"==typeof o.value&&"$"===o.value.slice(0,1)?o.type=this.parameters[o.value.slice(1)].type:o.type=this._typeof(r?o.value[0]:o.value);this.order.push(t),this.parameters[t]=this.addGroupToSpec(o)}},{key:"_typeof",value:function(t){return null===t?"null":l(t)}},{key:"_coerce",value:function(t,e){var n=this.parameters[t];if(l(e)!==n.type)try{switch(n.type){case"json":e=JSON.parse(e);break;case"boolean":if("string"==typeof e){e=e.toLowerCase();var r=parseInt(e,10);e=isNaN(r)?"true"===e||"y"===e||"yes"===e||"y"===e||"on"===e:!!r}else{if("number"!=typeof e)throw"Cannot convert value for ".concat(t," to boolean.");e=!!e}break;case"number":if("string"==typeof e){if(e=parseInt(e,10),isNaN(e))throw"Cannot convert value for ".concat(t," to number.")}else{if("boolean"!=typeof e)throw"Cannot convert value for ".concat(t," to number.");e+=0}break;case"string":e=e.toString();break;case"null":case"undefined":break;default:throw"Do not know how to convert value for ".concat(t," of type ").concat(l(e)," to ").concat(n.type,".")}}catch(t){return this.log.warn(t),null}return n.choices&&-1===n.choices.indexOf(e)?(this.log.warn("Illegal value for ".concat(t,": ").concat(e,".")),null):e}},{key:"_set",value:function(t,e,n){if(e in this.parameters){var r;if(this.parameters[e].multiple){r="string"==typeof n?n.split(/,+/):n,n=[];var o,a=s(r);try{for(a.s();!(o=a.n()).done;){var i=o.value,l=this._coerce(e,i.trim());null!==l&&n.push(l)}}catch(t){a.e(t)}finally{a.f()}}else if(null===(n=this._coerce(e,n)))return;t[e]=n}else this.log.debug("Ignoring value for unknown argument: ".concat(e,"."))}},{key:"_split",value:function(t){var e=[];return t.replace(this.token_pattern,function(t,n,r,o){n?e.push(n):o&&e.push(o)}),e}},{key:"_parseExtendedNotation",value:function(t){var e,n=this,r={},o=s(t.replace(/;;/g,"\0x1f").replace(/&amp;/g,"&amp\0x1f").split(/;/).map(function(t){return t.replace(new RegExp("\0x1f","g"),";")}));try{var a=function(){var o=e.value;if(!o)return 0;var a=o.match(n.named_param_pattern);if(!a)return n.log.warn("Invalid parameter: ".concat(o,": ").concat(t,".")),0;var i=a[1],l=a[2].trim(),s=Object.values(n.parameters).filter(function(t){return t.alias===i});if(1===s.length)n._set(r,s[0].name,l);else if(i in n.parameters)n._set(r,i,l);else{if(!(i in n.groups))return n.log.warn("Unknown named parameter: ".concat(a[1],".")),0;var c=n.groups[i]._parseShorthandNotation(l);for(var u in c)n._set(r,i+"-"+u,c[u])}};for(o.s();!(e=o.n()).done;)a()}catch(t){o.e(t)}finally{o.f()}return r}},{key:"_parseShorthandNotation",value:function(t){for(var e=this._split(t),n={},r=0;e.length;){var o=e.shift().trim(),a=void 0,i=void 0,l=!0;if("no-"===o.slice(0,3)?(a=!1,i=o.slice(3)):(a=!0,i=o),i in this.parameters&&"boolean"===this.parameters[i].type)l=!1,this._set(n,i,a);else if(i in this.enum_values)l=!1,this._set(n,this.enum_values[i],i);else{if(!l){e.unshift(o);break}this._set(n,this.order[r],o)}if(++r>=this.order.length)break}return e.length&&this.log.warn("Ignore extra arguments: ".concat(e.join(" "),".")),n}},{key:"_parse",value:function(t){if(!t)return{};if(t.match(this.json_param_pattern))try{return JSON.parse(t)}catch(e){this.log.warn("Invalid JSON argument found: ".concat(t,"."))}if(t.match(this.named_param_pattern))return this._parseExtendedNotation(t);var e=t.indexOf(";");if(-1===e)return this._parseShorthandNotation(t);var n=this._parseShorthandNotation(t.slice(0,e)),r=this._parseExtendedNotation(t.slice(e+1));for(var o in r)n[o]=r[o];return n}},{key:"_defaults",value:function(t){var e={};for(var n in this.parameters)if("function"==typeof this.parameters[n].value)try{e[n]=this.parameters[n].value(t,n),this.parameters[n].type=l(e[n])}catch(t){this.log.error("Default function for ".concat(n," failed."))}else e[n]=this.parameters[n].value;return e}},{key:"_cleanupOptions",value:function(t){for(var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=0,r=Object.keys(t);n<r.length;n++){var o=r[n],a=this.parameters[o];void 0!==a&&t[o]===a.value&&"string"==typeof a.value&&"$"===a.value.slice(0,1)&&(t[o]=t[a.value.slice(1)])}if(e)for(var i=0,s=Object.keys(t);i<s.length;i++){var c=s[i],u=this.parameters[c],p=void 0;void 0!==u&&(u.group?("object"!==l(t[u.group])&&(t[u.group]={}),p=t[u.group]):p=t,u.dest!==c&&(p[u.dest]=t[c],delete t[c]))}return t}},{key:"parse",value:function(t,e,n){var r=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],c=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];t.jquery||(t=o()(t)),"boolean"==typeof e&&void 0===n&&(n=e,e={});var u,p=i?[[this._defaults(t)]]:[[{}]],d=1,f=s(!i||t.hasClass("pat-modal")&&"data-pat-inject"===this.attribute?t:t.parents("[".concat(this.attribute,"]")).addBack());try{for(f.s();!(u=f.n()).done;){var h=u.value,v=void 0,m=(o()(h).attr(this.attribute)||"").trim();if(m){var g=this._parse.bind(this);v=m.match(/&&/)?m.split(/\s*&&\s*/).map(g):g(m),Array.isArray(v)||(v=[v]),d=Math.max(v.length,d),p.push(v)}}}catch(t){f.e(t)}finally{f.f()}"object"===l(e)&&(Array.isArray(e)?(p.push(e),d=Math.max(e.length,d)):p.push([e])),n||(d=1);var y=a.A.removeDuplicateObjects(a.A.mergeStack(p,d)).map(function(t){return r._cleanupOptions(t,c)});return n?y:y[0]}}],n&&u(e.prototype,n),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r}();d.prototype.add_argument=d.prototype.addArgument;const f=d},44563:(t,e,n)=>{n.d(e,{A:()=>b});var r=n(8633);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i(r.key),r)}}function i(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}function l(t,e,n){return e=p(e),function(t,e){if(e&&("object"==o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,c()?Reflect.construct(e,n||[],p(t).constructor):e.apply(t,n))}function s(t){var e="function"==typeof Map?new Map:void 0;return s=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return function(t,e,n){if(c())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var o=new(t.bind.apply(t,r));return n&&u(o,n.prototype),o}(t,arguments,p(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),u(n,t)},s(t)}function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}function u(t,e){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},u(t,e)}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function d(t){return function(t){if(Array.isArray(t))return v(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||h(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=h(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){l=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw a}}}}function h(t,e){if(t){if("string"==typeof t)return v(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(t,e):void 0}}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var m=new Map,g=function(t,e){var n,o=f(t?[t]:m.keys());try{for(o.s();!(n=o.n()).done;){var a=n.value;if(null==a||!a.removeEventListener)return;var i=m.get(a);if(!i)return;var l=void 0;l=e?d(i.entries()).filter(function(t){return r.A.regexp_from_wildcard(e).test(t[0])}):i.entries();var s,c=f(l||[]);try{for(c.s();!(s=c.n()).done;){var u=s.value;a.removeEventListener(u[1][0],u[1][1],u[1][2]),m.get(a).delete(u[0]),m.get(a).size||m.delete(a)}}catch(t){c.e(t)}finally{c.f()}}}catch(t){o.e(t)}finally{o.f()}},y=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,e,["pat-update",{bubbles:!0,cancelable:!0,detail:t}])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(e,t),n=e,r&&a(n.prototype,r),o&&a(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(s(CustomEvent));const b={add_event_listener:function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(null!=t&&t.addEventListener){g(t,n),m.has(t)||m.set(t,new Map);var a=r;!0===(null==o?void 0:o.once)&&(a=function(e){var o;null===(o=m.get(t))||void 0===o||o.delete(n),r(e)}),m.get(t).set(n,[e,a,o.capture?o:void 0]),t.addEventListener(e,a,o)}},remove_event_listener:g,await_event:function(t,e){return new Promise(function(n){return t.addEventListener(e,n,{once:!0})})},await_pattern_init:function(t){return new Promise(function(e,n){t.one("init",function(n){n.target===t.el&&(g(t.el,"basepattern-one--not-init.".concat(t.name,".patterns")),e())}),t.one("not-init",function(e){e.target===t.el&&(g(t.el,"basepattern-one--init.".concat(t.name,".patterns")),n())})}).catch(function(){throw new Error('Pattern "'.concat(t.name,'" not initialized.'))})},generic_event:function(t){return new Event(t,{bubbles:!0,cancelable:!0})},update_event:function(t){return new y(t)},blur_event:function(){return new Event("blur",{bubbles:!1,cancelable:!1})},click_event:function(){return new Event("click",{bubbles:!0,cancelable:!0})},change_event:function(){return new Event("change",{bubbles:!0,cancelable:!1})},focus_event:function(){return new Event("focus",{bubbles:!1,cancelable:!1})},input_event:function(){return new Event("input",{bubbles:!0,cancelable:!1})},mousedown_event:function(){return new Event("mousedown",{bubbles:!0,cancelable:!0})},mouseup_event:function(){return new Event("mouseup",{bubbles:!0,cancelable:!0})},scroll_event:function(){return new Event("scroll",{bubbles:!0,cancelable:!1})},submit_event:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{submitter:void 0}).submitter,e=new Event("submit",{bubbles:!0,cancelable:!0});return e.submitter=t,e},dragstart_event:function(){return new Event("dragstart",{bubbles:!0,cancelable:!0})},dragend_event:function(){return new Event("dragend",{bubbles:!0,cancelable:!0})}}},59329:(t,e,n)=>{n.d(e,{A:()=>y});var r=n(25022),o=n.n(r),a=n(62800),i=n(23505),l=n(8633);function s(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return c(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){l=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw a}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}for(var u,p=i.A.getLogger("registry"),d=/patterns-disable=([^&]+)/g,f=/patterns-dont-catch/g,h={},v=!1;null!==(u=d.exec(window.location.search));)h[u[1]]=!0,p.info("Pattern disabled via url config:",u[1]);for(;null!==(u=f.exec(window.location.search));)v=!0,p.info("I will not catch init exceptions");void 0===window.__patternslib_registry&&(window.__patternslib_registry={});var m=window.__patternslib_registry;void 0===window.__patternslib_registry_initialized&&(window.__patternslib_registry_initialized=!1);var g={patterns:m,init:function(){a.A.document_ready(function(){window.__patternslib_registry_initialized||(window.__patternslib_registry_initialized=!0,p.debug("Loaded: "+Object.keys(g.patterns).sort().join(", ")),g.scan(document.body),p.debug("Finished initial scan."))})},clear:function(){for(var t in g.patterns)delete g.patterns[t]},transformPattern:function(t,e){var n;if(h[t])p.debug("Skipping disabled pattern: ".concat(t,"."));else{var r=g.patterns[t],a=r.transform||(null===(n=r.prototype)||void 0===n?void 0:n.transform);if(a)try{a(o()(e))}catch(e){if(v)throw e;p.error("Transform error for pattern ".concat(t,"."),e)}}},initPattern:function(t,e,n){var r=o()(e),a=g.patterns[t],l=i.A.getLogger("pat.".concat(t));if(e.matches(a.trigger)){l.debug("Initialising.",e);try{a.init?a.init(r,null,n):new a(r,null,n),l.debug("done.")}catch(t){if(v)throw t;l.error("Caught error:",t)}}},orderPatterns:function(t){return t.includes("validation")&&(t.splice(t.indexOf("validation"),1),t.unshift("validation")),t.includes("clone-code")&&(t.splice(t.indexOf("clone-code"),1),t.unshift("clone-code")),t},scan:function(t,e,n){if(t){if("string"==typeof t)t=document.querySelector(t);else{if(t instanceof Text)return;t.jquery&&(t=t[0])}var r,o=[],i=s(e=this.orderPatterns(e||Object.keys(g.patterns)));try{for(i.s();!(r=i.n()).done;){var l=r.value;this.transformPattern(l,t);var c=g.patterns[l];c.trigger&&o.unshift(c.trigger)}}catch(t){i.e(t)}finally{i.f()}var u=o.map(function(t){return t.trim().replace(/,$/,"")}).join(",");if(u){var p=a.A.querySelectorAllAndMe(t,u);p=p.filter(function(t){var e,n,r,o;return!(null!=t&&null!==(e=t.closest)&&void 0!==e&&e.call(t,".disable-patterns")||null!=t&&null!==(n=t.parentNode)&&void 0!==n&&null!==(r=n.closest)&&void 0!==r&&r.call(n,"pre")||null!=t&&null!==(o=t.closest)&&void 0!==o&&o.call(t,".cant-touch-this"))});var d,f=s(p.reverse());try{for(f.s();!(d=f.n()).done;){var h,v=d.value,m=s(e);try{for(m.s();!(h=m.n()).done;){var y=h.value;this.initPattern(y,v,n)}}catch(t){m.e(t)}finally{m.f()}}}catch(t){f.e(t)}finally{f.f()}document.body.classList.add("patterns-loaded")}}},register:function(t,e){if(!(e=e||t.name))return p.error("Pattern lacks a name.",t),!1;var n=window.__patternslib_patterns_blacklist;if(Array.isArray(n)||(n=[]),n.includes(e))return p.warn("Pattern name ".concat(e," is blacklisted.")),!1;if(g.patterns[e])return p.debug("Already have a pattern called ".concat(e,".")),!1;if(g.patterns[e]=t,t.jquery_plugin){var r=("pat-"+e).replace(/-([a-zA-Z])/g,function(t,e){return e.toUpperCase()});o().fn[r]=l.A.jqueryPlugin(t),o().fn[r.replace(/^pat/,"pattern")]=o().fn[r]}return p.debug("Registered pattern ".concat(e),t),window.__patternslib_registry_initialized&&(g.scan(document.body,[e]),p.debug("Re-scanned dom with newly registered pattern ".concat(e,"."))),!0}};const y=g},59994:(t,e,n)=>{n.d(e,{A:()=>m});var r=n(25022),o=n.n(r);function a(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function l(n,r,o,a){var l=r&&r.prototype instanceof c?r:c,u=Object.create(l.prototype);return i(u,"_invoke",function(n,r,o){var a,i,l,c=0,u=o||[],p=!1,d={p:0,n:0,v:t,a:f,f:f.bind(t,4),d:function(e,n){return a=e,i=0,l=t,d.n=n,s}};function f(n,r){for(i=n,l=r,e=0;!p&&c&&!o&&e<u.length;e++){var o,a=u[e],f=d.p,h=a[2];n>3?(o=h===r)&&(l=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=t):a[0]<=f&&((o=n<2&&f<a[1])?(i=0,d.v=r,d.n=a[1]):f<h&&(o=n<3||a[0]>r||r>h)&&(a[4]=n,a[5]=r,d.n=h,i=0))}if(o||n>1)return s;throw p=!0,r}return function(o,u,h){if(c>1)throw TypeError("Generator is already running");for(p&&1===u&&f(u,h),i=u,l=h;(e=i<2?t:l)||!p;){a||(i?i<3?(i>1&&(d.n=-1),f(i,l)):d.n=l:d.v=l);try{if(c=2,a){if(i||(o="next"),e=a[o]){if(!(e=e.call(a,l)))throw TypeError("iterator result is not an object");if(!e.done)return e;l=e.value,i<2&&(i=0)}else 1===i&&(e=a.return)&&e.call(a),i<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=t}else if((e=(p=d.n<0)?l:n.call(r,d))!==s)break}catch(e){a=t,i=1,l=e}finally{c=1}}return{value:e,done:p}}}(n,o,a),!0),u}var s={};function c(){}function u(){}function p(){}e=Object.getPrototypeOf;var d=[][r]?e(e([][r]())):(i(e={},r,function(){return this}),e),f=p.prototype=c.prototype=Object.create(d);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,i(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=p,i(f,"constructor",p),i(p,"constructor",u),u.displayName="GeneratorFunction",i(p,o,"GeneratorFunction"),i(f),i(f,o,"Generator"),i(f,r,function(){return this}),i(f,"toString",function(){return"[object Generator]"}),(a=function(){return{w:l,m:h}})()}function i(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}i=function(t,e,n,r){function a(e,n){i(t,e,function(t){return this._invoke(e,n,t)})}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(a("next",0),a("throw",1),a("return",2))},i(t,e,n,r)}function l(t,e,n,r,o,a,i){try{var l=t[a](i),s=l.value}catch(t){return void n(t)}l.done?e(s):Promise.resolve(s).then(r,o)}function s(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t){l(a,r,o,i,s,"next",t)}function s(t){l(a,r,o,i,s,"throw",t)}i(void 0)})}}var c=n(23505).A.getLogger("core utils"),u=function(t){var e=this;e.className="spinner-border";return t||(t={}),e.options=o().extend({},{backdrop:null,zIndex:10005},t),e.init=function(){e.$el=o()("."+e.className),0===e.$el.length&&(e.$el=o()("<div><div></div></div>"),e.$el.addClass(e.className).hide().appendTo("body"))},e.show=function(t){e.init(),e.$el.show(),e.$el.css("position","absolute"),e.$el.css("top","50%"),e.$el.css("left","50%");var n=e.options.zIndex;"function"==typeof n?n=Math.max(n(),10005):(n=10005,o()(".modal-wrapper,.-modal-backdrop").each(function(){n=Math.max(n,o()(this).css("zIndex")||10005)}),n+=1),e.$el.css("zIndex",n),void 0===t&&(t=!0),e.options.backdrop&&(e.options.backdrop.closeOnClick=t,e.options.backdrop.closeOnEsc=t,e.options.backdrop.init(),e.options.backdrop.show())},e.hide=function(){e.init(),e.$el.hide()},e},p=function(t){return void 0===t&&(t="id"),t+Math.floor(65536*(1+Math.random())).toString(16).substring(1)},d={dragAndDrop:function(){return"draggable"in document.createElement("span")},fileApi:function(){return"undefined"!=typeof FileReader},history:function(){return!(!window.history||!window.history.pushState)}},f={get:function(t){if(window.localStorage){var e=window.localStorage[t];return"string"==typeof e?JSON.parse(e):void 0}},set:function(t,e){window.localStorage&&(window.localStorage[t]=JSON.stringify(e))}},h=new Map,v=function(){var t=s(a().m(function t(e){var r,o,i,l;return a().w(function(t){for(;;)switch(t.n){case 0:return l=function(){return(l=s(a().m(function t(){var o,i,l,s,u,p,d,f,h,v,m,g;return a().w(function(t){for(;;)switch(t.p=t.n){case 0:if(o="",!(i=document.body.getAttribute("data-portal-url"))){t.n=5;break}if(!(l=i+"/@@iconresolver")){t.n=5;break}return t.p=1,s=new AbortController,setTimeout(function(){return s.abort()},5e3),t.n=2,fetch("".concat(l,"/").concat(e),{signal:s.signal});case 2:return u=t.v,t.n=3,u.text();case 3:o=t.v,t.n=5;break;case 4:t.p=4,m=t.v,c.warn('Loading icon "'.concat(e,'" from URL ').concat(l," failed.")),console.warn(m);case 5:if(o){t.n=11;break}return e=r,t.p=6,n.e(7202).then(n.bind(n,7202)),t.n=7,n.e(66298).then(n.t.bind(n,66298,19));case 7:if(f=t.v,!(h=null===(p=f[e])||void 0===p||null===(d=p.split)||void 0===d?void 0:d.call(p,"/"))[0].includes("bootstrap-icons")){t.n=9;break}return t.n=8,n(59145)("./".concat(h[1]));case 8:o=t.v,o=null===(v=o)||void 0===v?void 0:v.default;case 9:t.n=11;break;case 10:t.p=10,g=t.v,c.warn('Loading icon "'.concat(r,'" failed from fallback.')),console.warn(g);case 11:return t.a(2,o)}},t,null,[[6,10],[1,4]])}))).apply(this,arguments)},i=function(){return l.apply(this,arguments)},r="plone.icon.".concat(e),o=r,h.has(o)||(h.set(o,i()),c.debug('Loading icon "'.concat(r,'"'))),t.n=1,h.get(o);case 1:return t.a(2,t.v)}},t)}));return function(e){return t.apply(this,arguments)}}();const m={bool:function(t){return"string"==typeof t&&(t=t.trim(t).toLowerCase()),-1===["false",!1,"0",0,"",void 0,null].indexOf(t)},escapeHTML:function(t){return o()("<div/>").text(t).html()},removeHTML:function(t){return t.replace(/<[^>]+>/gi,"")},featureSupport:d,generateId:p,getAuthenticator:function(){var t=o()('input[name="_authenticator"]');return 0===t.length?(t=o()('a[href*="_authenticator"]')).length>0?t.attr("href").split("_authenticator=")[1]:"":t.val()},getWindow:function(){var t=window;return t.parent!==window&&(t=t.parent),t},Loading:u,loading:new u,parseBodyTag:function(t){return o()(/<body[^>]*>[^]*<\/body>/im.exec(t)[0].replace("<body","<div").replace("</body>","</div>")).eq(0).html()},QueryHelper:function(t){var e=this;return e.options=o().extend({},{pattern:null,vocabularyUrl:null,searchParam:"SearchableText",pathOperator:"plone.app.querystring.operation.string.path",attributes:["UID","Title","Description","getURL","portal_type"],batchSize:10,baseCriteria:[],sort_on:"is_folderish",sort_order:"reverse",pathDepth:1},t),e.pattern=e.options.pattern,void 0!==e.pattern&&null!==e.pattern||(e.pattern={browsing:!1,basePath:"/"}),e.options.url&&!e.options.vocabularyUrl?e.options.vocabularyUrl=e.options.url:e.pattern.vocabularyUrl&&(e.options.vocabularyUrl=e.pattern.vocabularyUrl),e.valid=Boolean(e.options.vocabularyUrl),e.getBatch=function(t){return{page:t||1,size:e.options.batchSize}},e.getCurrentPath=function(){var t,n=e.pattern;"function"==typeof(t=e.currentPath?e.currentPath:n.currentPath)&&(t=t());var r=t;return r||(r=n.basePath?n.basePath:n.options.basePath?n.options.basePath:"/"),r},e.getCriterias=function(t,n){void 0===n&&(n={});var r=[];return(n=o().extend({},{useBaseCriteria:!0,additionalCriterias:[]},n)).useBaseCriteria&&(r=e.options.baseCriteria.slice(0)),t&&(t+="*",r.push({i:e.options.searchParam,o:"plone.app.querystring.operation.string.contains",v:t})),n.searchPath?r.push({i:"path",o:e.options.pathOperator,v:n.searchPath+"::"+e.options.pathDepth}):e.pattern.browsing&&r.push({i:"path",o:e.options.pathOperator,v:e.getCurrentPath()+"::"+e.options.pathDepth}),r=r.concat(n.additionalCriterias)},e.getQueryData=function(t,n){var r={query:JSON.stringify({criteria:e.getCriterias(t),sort_on:e.options.sort_on,sort_order:e.options.sort_order}),attributes:JSON.stringify(e.options.attributes)};return n&&(r.batch=JSON.stringify(e.getBatch(n))),r},e.getUrl=function(){var t=e.options.vocabularyUrl;return-1===t.indexOf("?")?t+="?":t+="&",t+o().param(e.getQueryData())},e.selectAjax=function(){return{url:e.options.vocabularyUrl,dataType:"JSON",quietMillis:100,data:function(t,n){return e.getQueryData(t,n)},results:function(t,e){var n=10*e<t.total;return{results:t.results,more:n}}}},e.search=function(t,n,r,a,i,l){void 0===i&&(i=!0),void 0===l&&(l="GET");var s=[];i&&(s=e.options.baseCriteria.slice(0)),s.push({i:t,o:n,v:r});var c={query:JSON.stringify({criteria:s}),attributes:JSON.stringify(e.options.attributes)};o().ajax({url:e.options.vocabularyUrl,dataType:"JSON",data:c,type:l,success:a})},e},resolveIcon:v,setId:function(t,e){void 0===e&&(e="id");var n=t.attr("id");return n=void 0===n?p(e):n.replace(/\./g,"-"),t.attr("id",n),n},storage:f}},62800:(t,e,n)=>{n.d(e,{A:()=>y});var r=n(44563),o=n(23505),a=n(86557);function i(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return l(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var s=o.A.getLogger("core dom"),c="__patternslib__data_prefix__",u="__patternslib__style__display",p="input, select, textarea, button",d=function(t,e){if(!t||!t.querySelectorAll)return[];var n=i(t.querySelectorAll(e));return t.matches(e)&&n.unshift(t),n};function f(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=window.getComputedStyle(t).getPropertyValue(e);return(n||r)&&(o=parseFloat(o)||0),n&&!r&&(o=parseInt(Math.round(o),10)),o}var h=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body;e===window&&(e=document.body);var n=Math.abs(t.getBoundingClientRect().left+e.scrollLeft-e.getBoundingClientRect().left-g.get_css_value(e,"border-left-width",!0));return{top:Math.abs(t.getBoundingClientRect().top+e.scrollTop-e.getBoundingClientRect().top-g.get_css_value(e,"border-top-width",!0)),left:n}},v=function(t,e,n){return t["".concat(c).concat(e)]||n},m=function(t,e,n){t["".concat(c).concat(e)]=n},g={document_ready:function(t){var e=(0,a.A)(),n=function(){"loading"!==document.readyState&&(r.A.remove_event_listener(document,e),setTimeout(t,1))};r.A.add_event_listener(document,"readystatechange",e,n),n()},toNodeArray:function(t){return t.jquery||t instanceof NodeList?t=i(t):t instanceof Array==!1&&(t=[t]),t},querySelectorAllAndMe:d,wrap:function(t,e){t.parentNode.insertBefore(e,t),e.appendChild(t)},hide:function(t){"none"!==t.style.display&&(t.style.display&&(t[u]=t.style.display),t.style.display="none")},show:function(t){var e=t[u]||null;t.style.display=e,delete t[u]},find_inputs:function(t){return d(t,p)},find_parents:function(t,e){for(var n=[],r=t;r;){var o,a;(r=null===(o=r.parentNode)||void 0===o||null===(a=o.closest)||void 0===a?void 0:a.call(o,e))&&n.push(r)}return n},find_scoped:function(t,e){return(0===e.indexOf("#")?document:t).querySelectorAll(e)},get_parents:function(t){for(var e=[],n=null==t?void 0:t.parentNode;n;){var r;e.push(n),n=(n=null===(r=n)||void 0===r?void 0:r.parentNode)instanceof HTMLElement?n:null}return e},acquire_attribute:function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=t,a=[];o;){var i=o.getAttribute(e);if(i||n&&""===i){if(!r)return i;a.push(i)}o=o.parentElement}if(r)return a},is_visible:function(t){return t.offsetWidth>0&&t.offsetHeight>0},is_input:function(t){return/^(?:input|select|textarea|button)$/i.test(t.nodeName)},is_button:function(t){return t.matches("\n        button,\n        input[type=image],\n        input[type=button],\n        input[type=reset],\n        input[type=submit]\n    ")},create_from_string:function(t){return document.createRange().createContextualFragment(t.trim())},get_css_value:f,find_scroll_container:function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.body;t&&t!==document.body;){if(!e||"y"===e){var r=f(t,"overflow-y");if(["auto","scroll"].includes(r))return t}if(!e||"x"===e){var o=f(t,"overflow-x");if(["auto","scroll"].includes(o))return t}t=t.parentElement}return n},get_scroll_x:function(t){return void 0!==t.scrollLeft?t.scrollLeft:t.scrollX},get_scroll_y:function(t){return void 0!==t.scrollTop?t.scrollTop:t.scrollY},get_relative_position:h,scroll_to_element:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"top",o=h(t,e),a={behavior:"auto"};"top"!==r&&"both"!==r||(a.top=o.top-n),"left"!==r&&"both"!==r||(a.left=o.left-n),e.scrollTo(a)},scroll_to_top:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t.scrollTo({top:0-e,behavior:"auto"})},scroll_to_bottom:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(t===window?document.body:t).scrollHeight;t.scrollTo({top:n-e,behavior:"auto"})},get_data:v,set_data:m,delete_data:function(t,e){delete t["".concat(c).concat(e)]},template:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s.warn("Using dom.template is not recommended due to a problem with Content-Security-Policy."),new Function("return `"+t+"`;").call(e)},get_visible_ratio:function(t,e){if(!t)return 0;var n=t.getBoundingClientRect(),r=e!==window?e.getBoundingClientRect():{top:0,bottom:window.innerHeight},o=0;if(n.top<r.bottom&&n.bottom>r.top){var a=n.bottom-n.top;o=(Math.min(n.bottom,r.bottom)-Math.max(n.top,r.top))/a}return o},escape_css_id:function(t){return"#".concat(CSS.escape(t.split("#")[1]))},element_uuid:function(t){return v(t,"uuid",!1)||m(t,"uuid",(0,a.A)()),v(t,"uuid")},find_form:function(t){var e;return t.closest(".pat-subform")||t.form||(null===(e=t.querySelector(p))||void 0===e?void 0:e.form)||t.closest("form")}};const y=g},71065:(t,e,n)=>{n.d(e,{A:()=>k});var r=n(25022),o=n.n(r),a=n(59329),i=n(23505);const l={getOptions:function(t,e,n){n=n||{},0===t.length||o().nodeName(t[0],"body")||(n=this.getOptions(t.parent(),e,n));var r={};if(0!==t.length&&(r=t.data("pat-"+e))&&"string"==typeof r){var a={};o().each(r.split(";"),function(t,e){(e=e.split(":")).reverse();var n=e.pop();n=n.replace(/^\s+|\s+$/g,""),e.reverse();var r=e.join(":");r=r.replace(/^\s+|\s+$/g,""),a[n]=r}),r=a}return o().extend(!0,{},n,r)}};function s(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var s=r&&r.prototype instanceof l?r:l,u=Object.create(s.prototype);return c(u,"_invoke",function(n,r,o){var a,l,s,c=0,u=o||[],p=!1,d={p:0,n:0,v:t,a:f,f:f.bind(t,4),d:function(e,n){return a=e,l=0,s=t,d.n=n,i}};function f(n,r){for(l=n,s=r,e=0;!p&&c&&!o&&e<u.length;e++){var o,a=u[e],f=d.p,h=a[2];n>3?(o=h===r)&&(s=a[(l=a[4])?5:(l=3,3)],a[4]=a[5]=t):a[0]<=f&&((o=n<2&&f<a[1])?(l=0,d.v=r,d.n=a[1]):f<h&&(o=n<3||a[0]>r||r>h)&&(a[4]=n,a[5]=r,d.n=h,l=0))}if(o||n>1)return i;throw p=!0,r}return function(o,u,h){if(c>1)throw TypeError("Generator is already running");for(p&&1===u&&f(u,h),l=u,s=h;(e=l<2?t:s)||!p;){a||(l?l<3?(l>1&&(d.n=-1),f(l,s)):d.n=s:d.v=s);try{if(c=2,a){if(l||(o="next"),e=a[o]){if(!(e=e.call(a,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,l<2&&(l=0)}else 1===l&&(e=a.return)&&e.call(a),l<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),l=1);a=t}else if((e=(p=d.n<0)?s:n.call(r,d))!==i)break}catch(e){a=t,l=1,s=e}finally{c=1}}return{value:e,done:p}}}(n,o,a),!0),u}var i={};function l(){}function u(){}function p(){}e=Object.getPrototypeOf;var d=[][r]?e(e([][r]())):(c(e={},r,function(){return this}),e),f=p.prototype=l.prototype=Object.create(d);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=p,c(f,"constructor",p),c(p,"constructor",u),u.displayName="GeneratorFunction",c(p,o,"GeneratorFunction"),c(f),c(f,o,"Generator"),c(f,r,function(){return this}),c(f,"toString",function(){return"[object Generator]"}),(s=function(){return{w:a,m:h}})()}function c(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}c=function(t,e,n,r){function a(e,n){c(t,e,function(t){return this._invoke(e,n,t)})}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(a("next",0),a("throw",1),a("return",2))},c(t,e,n,r)}function u(t,e,n,r,o,a,i){try{var l=t[a](i),s=l.value}catch(t){return void n(t)}l.done?e(s):Promise.resolve(s).then(r,o)}var p=i.A.getLogger("Patternslib Base"),d=function(t,e,n){t.jquery||(t=o()(t));var r=this.prototype.name,s=i.A.getLogger("pat.".concat(r)),c=t.data("pattern-".concat(r));if(void 0===c&&a.A.patterns[r])try{t.data("pattern-".concat(r),"initializing"),e="mockup"===this.prototype.parser?l.getOptions(t,r,e):e,c=new a.A.patterns[r](t,e,n)}catch(t){s.error("Failed while initializing ".concat(r," pattern."),t)}return c},f=function(){var t,e=(t=s().m(function t(e,n,r){var a;return s().w(function(t){for(;;)switch(t.n){case 0:if((null===(a=e)||void 0===a||!a.jquery||0!==e.length)&&e){t.n=1;break}return p.warn("No element given to pattern."),t.a(2);case 1:return e.jquery||(e=o()(e)),this.$el=e,this.el=e[0],this.options=o().extend(!0,{},this.defaults||{},n||{}),this.emit("pre-init"),t.n=2,this.init(e,n,r);case 2:this.$el.data("pattern-".concat(this.name),this),this.el["pattern-".concat(this.name)]=this,this.emit("init");case 3:return t.a(2)}},t,this)}),function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t){u(a,r,o,i,l,"next",t)}function l(t){u(a,r,o,i,l,"throw",t)}i(void 0)})});return function(t,n,r){return e.apply(this,arguments)}}();f.prototype={constructor:f,on:function(t,e){this.$el.on("".concat(t,".").concat(this.name,".patterns"),e)},one:function(t,e){this.$el.one("".concat(t,".").concat(this.name,".patterns"),e)},emit:function(t,e){void 0===e&&(e=[]),this.$el.trigger("".concat(t,".").concat(this.name,".patterns"),e)}},f.extend=function(t){var e,n=this;if(!t)throw new Error("Pattern configuration properties required when calling Base.extend");e=Object.hasOwnProperty.call(t,"constructor")?t.constructor:function(){n.apply(this,arguments)},e.extend=f.extend,e.init=d,e.jquery_plugin=!0,e.trigger=t.trigger,e.parser=(null==t?void 0:t.parser)||null;var r=function(){this.constructor=e};return r.prototype=n.prototype,e.prototype=new r,o().extend(!0,e.prototype,t),e.__super__=n.prototype,t.name?t.trigger?!1!==t.autoregister&&a.A.register(e,t.name):p.warn("The pattern ".concat(t.name," does not have a trigger attribute, it will not be registered.")):p.warn("This pattern without a name attribute will not be registered!"),e};const h=f;var v=n(40705),m=n.n(v);const g=h.extend({name:"backdrop",trigger:".pat-backdrop",parser:"mockup",defaults:{zIndex:null,opacity:.8,className:"plone-backdrop",classActiveName:"plone-backdrop-active",closeOnEsc:!0,closeOnClick:!0},init:function(){var t=this;t.$backdrop=o()("> ."+t.options.className,t.$el),0===t.$backdrop.length&&(t.$backdrop=o()("<div/>").hide().appendTo(t.$el).addClass(t.options.className),null!==t.options.zIndex&&t.$backdrop.css("z-index",t.options.zIndex)),!0===t.options.closeOnEsc&&o()(document).on("keydown",function(e,n){t.$el.is("."+t.options.classActiveName)&&27===e.keyCode&&t.hide()}),!0===t.options.closeOnClick&&t.$backdrop.on("click",function(){t.$el.is("."+t.options.classActiveName)&&t.hide()})},show:function(){var t=this;t.$el.hasClass(t.options.classActiveName)||(t.emit("show"),t.$backdrop.css("opacity","0").show(),t.$el.addClass(t.options.classActiveName),t.$backdrop.animate({opacity:t.options.opacity},500),t.emit("shown"))},hide:function(){var t=this;t.$el.hasClass(t.options.classActiveName)&&(t.emit("hide"),t.$backdrop.animate({opacity:"0"},500).hide(),t.$el.removeClass(t.options.classActiveName),t.emit("hidden"))}});var y=n(62800),b=n(59994),w=n(13767),_={plone:null,widgets:null},A=function(t,e,n){if(null===_[t]){var r=new w.A;r.loadCatalog(t),_[t]=r.MessageFactory(t)}return _[t](e,n)};const O=function(t,e){return A("widgets",t,e)};n(51428);function S(t){return function(t){if(Array.isArray(t))return x(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return x(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}const k=h.extend({name:"plone-modal",trigger:".pat-plone-modal",parser:"mockup",createModal:null,$model:null,defaults:{width:"",height:"",modalSizeClass:"",margin:0,position:"center middle",triggers:[],zIndexSelector:".modal-wrapper,.modal-backdrop",backdrop:"body",backdropOptions:{zIndex:"1040",opacity:"0.85",className:"modal-backdrop",classActiveName:"backdrop-active",closeOnEsc:!0,closeOnClick:!0},title:null,titleSelector:"h1:first",buttons:'.formControls > input[type="submit"], .formControls > button',content:"#content",automaticallyAddButtonActions:!0,loadLinksWithinModal:!0,prependContent:".portalMessage",onRender:null,templateOptions:{className:"modal fade",classDialog:"modal-dialog",classModal:"modal-content",classHeaderName:"modal-header",classBodyName:"modal-body",classFooterName:"modal-footer",classWrapperName:"modal-wrapper",classWrapperInnerName:"modal-wrapper-inner",classActiveName:"show",classPrependName:"",classContentName:"",template:'<div class="<%= options.className %>">  <div class="<%= options.classDialog %><% if (modalSizeClass) { %> <%= modalSizeClass %><% } %>" role="dialog" <% if (title) { %>aria-labelledby="modal-title" <% } %> tabindex="-1">    <div class="<%= options.classModal %>" role="document">      <div class="<%= options.classHeaderName %>">        <% if (title) { %><h5 class="modal-title" id="modal-title" tabindex="0"><%= title %></h5><% } %>        <button type="button" class="btn-close modal-close" aria-label="<%= closeButtonLabel %>"></button>      </div>      <div class="<%= options.classBodyName %>">        <div class="<%= options.classPrependName %>"><%= prepend %></div>         <div class="<%= options.classContentName %>"><%= content %></div>      </div>      <div class="<%= options.classFooterName %>">         <% if (buttons) { %><%= buttons %><% } %>      </div>    </div>  </div></div>'},actions:{},actionOptions:{eventType:"click",disableAjaxFormSubmit:!1,target:null,ajaxUrl:null,modalFunction:null,isForm:!1,timeout:5e3,displayInModal:!0,reloadWindowOnClose:!0,error:".portalMessage.error, .alert-danger",formFieldError:".field.error",onSuccess:null,onError:null,onFormError:null,onTimeout:null,redirectOnResponse:!1,redirectToUrl:function(t,e){var n;return(n=/<body.*data-view-url=[\"'](.*)[\"'].*/im.exec(e))&&n.length>1||(n=/<body.*data-base-url=[\"'](.*)[\"'].*/im.exec(e))&&n.length>1?n[1].split('"')[0]:(n=/<base.*href=[\"'](.*)[\"'].*/im.exec(e))&&n.length>1?n[1]:""}},form:function(t){var e=this,n=e.$modal;e.options.automaticallyAddButtonActions&&(t[e.options.buttons]={}),t.a={},o().each(t,function(t,r){var a=m().union(m().keys(e.options.actionOptions),["templateOptions"]),i=o().extend(!0,{},e.options.actionOptions,m().pick(r,a));r.templateOptions=o().extend(!0,r.templateOptions,e.options.templateOptions);var l=m().union(m().keys(e.options.actionOptions),["actions","actionOptions"]),s=o().extend(!0,m().omit(r,l),e.options);o()(t,o()("."+r.templateOptions.classBodyName,n)).each(function(){var t=o()(this);t.on(i.eventType,function(n){n.stopPropagation(),n.preventDefault(),e.loading.show(!1),null!==i.modalFunction?e[i.modalFunction]():o().nodeName(t[0],"input")||o().nodeName(t[0],"button")||!0===r.isForm?e.options.handleFormAction.apply(e,[t,i,s]):(null!==r.ajaxUrl||o().nodeName(t[0],"a"))&&e.options.handleLinkAction.apply(e,[t,i,s])})})})},handleFormAction:function(t,e,n){var r,a,i=this,l={};if(l[t.attr("name")]=t.attr("value"),r=o().nodeName(t[0],"form")?t:t.parents("form:not(.disableAutoSubmit)"),a=null!==e.ajaxUrl?"function"==typeof e.ajaxUrl?e.ajaxUrl.apply(i,[t,e]):e.ajaxUrl:t.parents("form").attr("action"),e.disableAjaxFormSubmit)return t.attr("name")&&t.attr("value")&&r.append(o()('<input type="hidden" name="'+t.attr("name")+'" value="'+t.attr("value")+'" />')),void r.trigger("submit");r.on("submit",function(t){t.preventDefault()}),r.trigger("submit"),i.loading.show(!1),r.ajaxSubmit({timeout:e.timeout,data:l,url:a,error:function(t,n,r){i.loading.hide(),"timeout"===n&&e.onTimeout?e.onTimeout.apply(i,t,r):e.onError?"string"==typeof e.onError?window[e.onError](t,n,r):e.onError(t,n,r):console.log("error happened",n," do something"),i.emit("formActionError",[t,n,r])},success:function(r,a,l,s){i.loading.hide(),0===o()(e.error,r).length&&0===o()(e.formFieldError,r).length?!0!==e.redirectOnResponse?(e.onSuccess&&("string"==typeof e.onSuccess?window[e.onSuccess](i,r,a,l,s):e.onSuccess(i,r,a,l,s)),!0===e.displayInModal?i.redraw(r,n):(t.trigger("destroy.plone-modal.patterns"),e.reloadWindowOnClose&&i.reloadWindow()),i.emit("formActionSuccess",[r,a,l,s])):"function"==typeof e.redirectToUrl?window.parent.location.href=e.redirectToUrl.apply(i,[t,r,e]):window.parent.location.href=e.redirectToUrl:e.onFormError?"string"==typeof e.onFormError?window[e.onFormError](i,r,a,l,s):e.onFormError(i,r,a,l,s):i.redraw(r,n)}})},handleLinkAction:function(t,e,n){var r,a=this;t.hasClass("pat-plone-modal")||(r=e.ajaxUrl?"function"==typeof e.ajaxUrl?e.ajaxUrl.apply(a,[t,e]):e.ajaxUrl:t.attr("href"),!1!==e.displayInModal?o().ajax({url:r}).fail(function(t,n,r){"timeout"===n&&e.onTimeout?e.onTimeout(a.$modal,t,r):e.onError?e.onError(t,n,r):window.alert(O("There was an error loading modal.")),a.emit("linkActionError",[t,n,r])}).done(function(t,r,o){a.redraw(t,n),e.onSuccess&&("string"==typeof e.onSuccess?window[e.onSuccess](a,t,r,o):e.onSuccess(a,t,r,o)),a.emit("linkActionSuccess",[t,r,o])}).always(function(){a.loading.hide()}):"_blank"===t.attr("target")?(window.open(r,"_blank"),a.loading.hide()):window.location=r)},render:function(t){var e=this;if(e.emit("before-render"),e.$raw){var n=e.$raw.clone(),r={title:"",prepend:"<div />",content:"",modalSizeClass:t.modalSizeClass,buttons:'<div class="pattern-modal-buttons"></div>',options:t.templateOptions,closeButtonLabel:O("Close")};if(null===t.title){var a=o()(t.titleSelector,n);r.title=a.html(),o()(t.titleSelector,n).remove()}else r.title=t.title;t.prependContent&&(r.prepend=o()("<div />").append(o()(t.prependContent,n).clone()).html(),o()(t.prependContent,n).remove()),t.content?r.content=o()(t.content,n).html():r.content=n.html(),e.$modal=o()(m().template(e.options.templateOptions.template)(r)),e.$modalDialog=o()("> ."+e.options.templateOptions.classDialog,e.$modal),e.$modalContent=o()("> ."+e.options.templateOptions.classModal,e.$modalDialog),o()("form",e.$modal).on("keydown",function(t){"Enter"===t.key&&"TEXTAREA"!==t.target.nodeName&&(t.preventDefault(),o()("input[type=submit], button[type=submit], button:not(type)",this).eq(0).trigger("click"))}),o()(t.buttons,e.$modal).each(function(){var t=o()(this);t.on("click",function(t){t.stopPropagation(),t.preventDefault()}).clone().appendTo(o()(".pattern-modal-buttons",e.$modal)).off("click").on("click",function(e){e.stopPropagation(),e.preventDefault(),t.trigger("click")}),t.hide()}),e.emit("before-events-setup"),e.$modal[0].querySelectorAll('.modal-header > .modal-close,\n                 .modal-footer > .pattern-modal-buttons > .modal-close,\n                 .modal-footer [name="form.buttons.Cancel" i]').forEach(function(t){o()(t).off("click").on("click",function(t){t.stopPropagation(),t.preventDefault(),o()(t.target).trigger("destroy.plone-modal.patterns")})}),t.form&&t.form.apply(e,[t.actions]),e.$modal.addClass(e.options.templateOptions.className).on("destroy.plone-modal.patterns",function(t){t.stopPropagation(),e.hide()}).on("resize.plone-modal.patterns",function(t){t.stopPropagation(),t.preventDefault(),e.positionModal()}).appendTo(e.$wrapperInner),e.options.loadLinksWithinModal&&e.$modal.on("click",function(t){t.stopPropagation(),o().nodeName(t.target,"a")&&t.preventDefault(),e.$modal.trigger("modal-click")}),e.$modal.data("pattern-"+e.name,e),e.emit("after-render"),t.onRender&&("string"==typeof t.onRender?window[t.onRender](e):t.onRender(e))}}},reloadWindow:function(){window.parent.location.reload()},init:function(){n.e(73530).then(n.bind(n,73530));var t=this;t.options.loadLinksWithinModal=o().parseJSON(t.options.loadLinksWithinModal),!0===t.options.backdropOptions.closeOnEsc&&o()(document).on("keydown",function(e){t.$el.is("."+t.options.templateOptions.classActiveName)&&"Esc"===e.key&&t.hide()}),o()(window.parent).resize(function(){t.positionModal()}),t.options.triggers&&o().each(t.options.triggers,function(e,n){var r=n.substring(0,n.indexOf(" ")),a=n.substring(n.indexOf(" "),n.length);o()(a||t.$el).on(r,function(e){e.stopPropagation(),e.preventDefault(),t.show()})}),t.$el.is("a")&&(t.$el.attr("href")&&!t.options.image&&(!t.options.target&&"#"===t.$el.attr("href").substr(0,1)&&t.$el.attr("href").length>1&&(t.options.target=t.$el.attr("href"),t.options.content=""),t.options.ajaxUrl||"#"===t.$el.attr("href").substr(0,1)||(t.options.ajaxUrl=function(){return t.$el.attr("href")})),t.$el.on("click",function(e){e.stopPropagation(),e.preventDefault(),t.show()})),t.initModal()},createAjaxModal:function(){var t=this;t.emit("before-ajax"),t.loading.show();var e=t.options.ajaxUrl;"function"==typeof e&&(e=e.apply(t,[t.options])),t.ajaxXHR=o().ajax({url:e,type:t.options.ajaxType}).done(function(e,n,r){t.ajaxXHR=void 0,t.$raw=o()("<div />").append(o()(b.A.parseBodyTag(e))),t.emit("after-ajax",t,n,r),t._show()}).fail(function(e,n,r){var o=t.options.actionOptions;"timeout"===n&&o.onTimeout?o.onTimeout(t.$modal,e,r):o.onError?o.onError(e,n,r):(window.alert(O("There was an error loading modal.")),t.hide()),t.emit("linkActionError",[e,n,r])}).always(function(){t.loading.hide()})},createTargetModal:function(){var t=this;t.$raw=o()(t.options.target).clone(),t._show()},createBasicModal:function(){var t=this;t.$raw=o()("<div/>").html(t.$el.clone()),t._show()},createHtmlModal:function(){var t=this,e=o()(t.options.html);t.$raw=e,t._show()},createImageModal:function(){var t=this;t.$wrapper.addClass("image-modal");var e=t.$el.attr("href"),n=t.$el.attr("data-modal-srcset")||"",r=o().trim(t.$el.context.innerText)||"Image";t.$raw=o()("<div><h1>"+r+'</h1><div id="content"><div class="modal-image"><img src="'+e+'" srcset="'+n+'" /></div></div></div>'),t._show()},initModal:function(){var t=this;t.options.ajaxUrl?t.createModal=t.createAjaxModal:t.options.target?t.createModal=t.createTargetModal:t.options.html?t.createModal=t.createHtmlModal:t.options.image?t.createModal=t.createImageModal:t.createModal=t.createBasicModal},findPosition:function(t,e,n,r,o,a,i){var l,s,c,u,p={};return u=c=l=c="auto","left"===t?(c=n+"px",r>a&&(c="0px"),p.left=c):"right"===t?(u=n+"px",r>a&&(u="0px"),p.right=u,p.left="auto"):(c=a/2-r/2-n+"px",r>a&&(c="0px"),p.left=c),"top"===e?(l=n+"px",o>i&&(l="0px"),p.top=l):"bottom"===e?(s=n+"px",o>i&&(s="0px"),p.bottom=s,p.top="auto"):(l=i/2-o/2-n+"px",o>i&&(l="0px"),p.top=l),p},modalInitialized:function(){return null!==this.$modal&&void 0!==this.$modal},activateFocusTrap:function(){for(var t=this,e=t.$modal[0],n=e.querySelector(".".concat(t.options.templateOptions.classBodyName)).querySelectorAll('select, input:not([type="hidden"]), textarea, button, a'),r=e.querySelector(".".concat(t.options.templateOptions.classFooterName)).querySelectorAll('select, input:not([type="hidden"]), textarea, button, a'),o=[],a=0,i=[].concat(S(n),S(r));a<i.length;a++){var l=i[a];y.A.is_visible(l)&&o.push(l)}0===o.length&&(o=e.querySelectorAll(".modal-title"));var s=0!==o.length?o[0]:null,c=0!==o.length?o[o.length-1]:null,u=e.querySelector(".modal-close");e.addEventListener("keydown",function(t){if("Tab"===t.key){t.preventDefault();var e=t.target,n=o.indexOf(e);if(n>=0&&n<o.length){var r=n+(t.shiftKey?-1:1);r<0||r>=o.length?u.focus():o[r].focus()}else t.shiftKey&&c?c.focus():s&&s.focus()}}),!0===t.options.backdropOptions.closeOnClick&&e.addEventListener("click",function(e){e.target.closest(".".concat(t.options.templateOptions.classModal))||t.hide()}),s&&["INPUT","SELECT","TEXTAREA"].includes(s.nodeName)&&s.focus()},positionModal:function(){var t=this;if(t.modalInitialized()){t.$modal.removeAttr("style"),t.$wrapper.parent().is("body")&&t.$wrapper.height(o()(window.parent).height());var e="function"==typeof t.options.margin?t.options.margin():t.options.margin,n={position:"absolute"};"0"!==e&&(n.padding=e),t.$modal.css(n),t.$modalDialog.css({width:t.options.width,height:t.options.height}),t.$modalContent.css({width:t.options.width});var r=t.options.position.split(" "),a=r[0],i=r[1],l=t.$modalDialog.outerWidth(!0),s=t.$modalDialog.outerHeight(!0),c=t.$wrapperInner.width(),u=t.$wrapperInner.height(),p=t.findPosition(a,i,e,l,s,c,u);for(var d in p)t.$modalDialog.css(d,p[d])}},render:function(t){var e=this;e.emit("render"),e.options.render.apply(e,[t]),e.emit("rendered")},show:function(){var t=this;t.backdrop=t.createBackdrop(),t.createModal()},createBackdrop:function(){var t=this,e=new g(t.$el.parents(t.options.backdrop),t.options.backdropOptions),n=t.options.backdropOptions.zIndex||1041;return o()(t.options.zIndexSelector).each(function(){n=Math.max(n,parseInt(o()(this).css("zIndex"))+1||1041)}),t.$wrapper=o()("<div/>").hide().css({"z-index":n,"overflow-y":"auto",position:"fixed",height:"100%",width:"100%",bottom:"0",left:"0",right:"0",top:"0"}).addClass(t.options.templateOptions.classWrapperName).insertBefore(e.$backdrop).on("click",function(n){t.options.backdropOptions.closeOnClick&&(n.stopPropagation(),n.preventDefault(),e.hide())}),e.on("hidden",function(){void 0!==t.$modal&&t.$modal.hasClass(t.options.templateOptions.classActiveName)&&t.hide()}),t.loading=new b.A.Loading({backdrop:e}),t.$wrapperInner=o()("<div/>").addClass(t.options.classWrapperInnerName).css({position:"absolute",bottom:"0",left:"0",right:"0",top:"0"}).appendTo(t.$wrapper),e},_show:function(){var t=this;t.render.apply(t,[t.options]),t.emit("show"),t.backdrop.show(),t.$wrapper.show(),t.loading.hide(),t.$el.addClass(t.options.templateOptions.classActiveName),t.$modal.addClass(t.options.templateOptions.classActiveName),a.A.scan(t.$modal),t.positionModal(),o()(window.parent).on("resize.plone-modal.patterns",function(){t.positionModal()}),o()("body").addClass("modal-open"),t.emit("shown"),t.activateFocusTrap()},hide:function(){var t=this;t.ajaxXHR&&t.ajaxXHR.abort(),t.emit("hide"),t._suppressHide&&!window.confirm(t._suppressHide)||(t.loading.hide(),t.$el.removeClass(t.options.templateOptions.classActiveName),void 0!==t.$modal&&(t.$modal.remove(),t.initModal()),t.$wrapper.remove(),o()(".modal",o()("body")).length<1&&(t._suppressHide=void 0,t.backdrop.hide(),o()("body").removeClass("modal-open"),o()(window.parent).off("resize.plone-modal.patterns")),t.emit("hidden"),t.$el.focus())},redraw:function(t,e){var n=this;n.emit("beforeDraw"),n.$modal.remove(),n.$raw=o()("<div />").append(o()(b.A.parseBodyTag(t))),n.render.apply(n,[e||n.options]),n.$modal.addClass(n.options.templateOptions.classActiveName),n.positionModal(),a.A.scan(n.$modal),n.emit("afterDraw"),n.activateFocusTrap()}})},86557:(t,e,n)=>{n.d(e,{A:()=>r});const r=function(){var t;if(window.crypto.randomUUID)t=window.crypto.randomUUID();else{var e=new Uint32Array(4);t=window.crypto.getRandomValues(e).join("")}return t}}}]);
//# sourceMappingURL=13337.b72f8ffe1e9337fb226f.min.js.map