{"version":3,"file":"chunks/resources_bundle_js.9c71cc357a1a0ef191ca.min.js","mappings":";;;;;;;;;;;;AAAkE;AAGrB;AAE7CA,kFAAQ,CAACC,IAAI,CAAC,CAAC;;;;;;;;;;;;;;;;;;;ACL6D;AACd;AACI;AAE3D,MAAMG,MAAM,GAAG,IAAID,gFAAM,CAAC,gBAAgB,CAAC;AAClDC,MAAM,CAACC,WAAW,CAAC,OAAO,EAAE,EAAE,CAAC;AAE/B,MAAMC,OAAO,SAASJ,sFAAW,CAAC;EAC9B,OAAOK,IAAI,GAAG,gBAAgB;EAC9B,OAAOC,OAAO,GAAG,qBAAqB;EACtC,OAAOJ,MAAM,GAAGA,MAAM;EAEtB,MAAMH,IAAIA,CAAA,EAAG;IACT,gOAA+B;IAE/B,MAAM,IAAI,CAACQ,cAAc,CAAC,CAAC;;IAE3B;IACA,IAAI,CAACC,EAAE,CAACC,SAAS,GAAI;AAC7B,mDAAmD,IAAI,CAACC,OAAO,CAACC,KAAM;AACtE,SAAS;EACL;EAEA,MAAMJ,cAAcA,CAAA,EAAG;IACnB,MAAMK,CAAC,GAAG,CAAC,MAAM,yJAAgB,EAAEC,OAAO;IAE1CD,CAAC,CAAC,aAAa,CAAC,CAACE,EAAE,CAAC,oBAAoB,EAAE,UAAUC,QAAQ,EAAEC,IAAI,EAAE;MAChE;MACA,IAAIC,QAAQ,GAAGL,CAAC,CAAC,IAAI,CAAC,CAACM,IAAI,CAAC,kBAAkB,CAAC;MAC/C,IAAIC,UAAU,GAAGP,CAAC,CAAC,iBAAiB,CAAC;MACrC,IAAIO,UAAU,CAACC,MAAM,EAAE;QACnBR,CAAC,CAACS,IAAI,CAAC;UACHC,GAAG,EAAEL,QAAQ,GAAG,kBAAkB;UAClCM,OAAO,EAAE,SAAAA,CAAUR,QAAQ,EAAE;YACzBI,UAAU,CAACK,WAAW,CAACZ,CAAC,CAACG,QAAQ,CAAC,CAACU,QAAQ,CAAC,iBAAiB,CAAC,CAAC;UACnE;QACJ,CAAC,CAAC;MACN;MACA,IAAIC,QAAQ,GAAGd,CAAC,CAAC,sBAAsB,CAAC;MACxC,IAAIc,QAAQ,CAACN,MAAM,EAAE;QACjBR,CAAC,CAACS,IAAI,CAAC;UACHC,GAAG,EAAEL,QAAQ,GAAG,uBAAuB;UACvCM,OAAO,EAAE,SAAAA,CAAUR,QAAQ,EAAE;YACzBW,QAAQ,CAACF,WAAW,CAACZ,CAAC,CAACG,QAAQ,CAAC,CAACY,IAAI,CAAC,sBAAsB,CAAC,CAAC;UAClE;QACJ,CAAC,CAAC;MACN;IACJ,CAAC,CAAC;EACN;AACJ;;AAGA;AACA7B,kFAAQ,CAAC8B,QAAQ,CAACxB,OAAO,CAAC;;AAE1B;AACA;AACA,iEAAeA,OAAO,EAAC;AACvB;AACA","sources":["webpack://relatedmedia/./resources/bundle.js","webpack://relatedmedia/./resources/pat-related-images/related-images.js"],"sourcesContent":["import registry from \"@patternslib/patternslib/src/core/registry\";\n\n\nimport \"./pat-related-images/related-images\";\n\nregistry.init();\n","import { BasePattern } from \"@patternslib/patternslib/src/core/basepattern\";\nimport Parser from \"@patternslib/patternslib/src/core/parser\";\nimport registry from \"@patternslib/patternslib/src/core/registry\";\n\nexport const parser = new Parser(\"related-images\");\nparser.addArgument(\"uuids\", \"\");\n\nclass Pattern extends BasePattern {\n    static name = \"related-images\";\n    static trigger = \".pat-related-images\";\n    static parser = parser;\n\n    async init() {\n        import(\"./related-images.scss\");\n\n        await this.uploader_event();\n\n        // The options are automatically created, if parser is defined.\n        this.el.innerHTML = `\n            <pre class=\"text-muted\">will replace ${this.options.uuids} with image gallery soon !</pre>\n        `;\n    }\n\n    async uploader_event() {\n        const $ = (await import(\"jquery\")).default;\n\n        $(\".pat-upload\").on(\"uploadAllCompleted\", function (response, path) {\n            // reload viewlets on upload\n            var base_url = $(this).data(\"relmedia-baseurl\");\n            var $relimages = $(\"#related-images\");\n            if ($relimages.length) {\n                $.ajax({\n                    url: base_url + \"/@@relatedImages\",\n                    success: function (response) {\n                        $relimages.replaceWith($(response).siblings(\"#related-images\"));\n                    }\n                });\n            }\n            var $relatts = $(\"#related-attachments\");\n            if ($relatts.length) {\n                $.ajax({\n                    url: base_url + \"/@@relatedAttachments\",\n                    success: function (response) {\n                        $relatts.replaceWith($(response).find(\"#related-attachments\"));\n                    }\n                });\n            }\n        });\n    }\n}\n\n\n// Register Pattern class in the global pattern registry and make it usable there.\nregistry.register(Pattern);\n\n// Export Pattern as default export.\n// You can import it as ``import AnyName from \"./related-images\";``\nexport default Pattern;\n// Export BasePattern as named export.\n// You can import it as ``import { Pattern } from \"./related-images\";``\nexport { Pattern };\n"],"names":["registry","init","BasePattern","Parser","parser","addArgument","Pattern","name","trigger","uploader_event","el","innerHTML","options","uuids","$","default","on","response","path","base_url","data","$relimages","length","ajax","url","success","replaceWith","siblings","$relatts","find","register"],"sourceRoot":""}